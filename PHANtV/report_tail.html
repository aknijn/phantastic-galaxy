    window.onload = function() {
      var ctx1 = document.getElementById('canvas1').getContext('2d');
      window.myQC = new Chart(ctx1, {type: 'pie',data: QCData,
        options: {
          title: {display: true,text: 'Quality check'},
          tooltips: {
		    callbacks: {
              label: function(tooltipItem, data) {
        	    var dataset = data.datasets[tooltipItem.datasetIndex];
                var total = dataset.data.reduce(function(previousValue, currentValue, currentIndex, array) { return previousValue + currentValue; });
                var currentValue = dataset.data[tooltipItem.index];
                var percentage = Math.floor(((currentValue/total) * 100)+0.5);         
                return currentValue + " (" + percentage + "%)";
              }
            }
	      },
          responsive: true
        }
      });
      var ctx2 = document.getElementById('canvas2').getContext('2d');
      window.myAR = new Chart(ctx2, {type: 'bar',data: RegioneAnnoData,
        options: {
          title: {display: true,text: 'Casi Regione-Anno (percentuale dei casi nell\u2019anno)'},
          tooltips: {
		    callbacks: {
              label: function(tooltipItem, data) {
        	    var dataset = data.datasets[tooltipItem.datasetIndex];
                var total = dataset.data.reduce(function(previousValue, currentValue, currentIndex, array) { return previousValue + currentValue; });
                var currentValue = dataset.data[tooltipItem.index];
                var percentage = Math.floor(((currentValue/total) * 100)+0.5);         
                return currentValue + " (" + percentage + "%)";
              }
            }
	      },
          responsive: true,
          legend: {position: 'left'},
          scales: {xAxes: [{stacked: true,}],yAxes: [{stacked: true}]
          }
        }
      });
      var ctx3 = document.getElementById('canvas3').getContext('2d');
      window.myST = new Chart(ctx3, {type: 'pie',data: STData,
        options: {
          title: {display: true,text: 'Sequence Types'},
          tooltips: {
		    callbacks: {
              label: function(tooltipItem, data) {
        	    var dataset = data.datasets[tooltipItem.datasetIndex];
                var total = dataset.data.reduce(function(previousValue, currentValue, currentIndex, array) { return previousValue + currentValue; });
                var currentValue = dataset.data[tooltipItem.index];
                var percentage = Math.floor(((currentValue/total) * 100)+0.5);         
                return currentValue + " (" + percentage + "%)";
              }
            }
	      },
          legend: {position: 'left'},
          responsive: true
        }
      });
      var ctx4 = document.getElementById('canvas4').getContext('2d');
      window.myRS = new Chart(ctx4, {type: 'bar',data: RegioneSeroData,
        options: {
          title: {display: true,text: 'Casi Regione-Sierogruppo (percentuale dei casi del sierogruppo)'},
          tooltips: {
		    callbacks: {
              label: function(tooltipItem, data) {
        	    var dataset = data.datasets[tooltipItem.datasetIndex];
                var total = dataset.data.reduce(function(previousValue, currentValue, currentIndex, array) { return previousValue + currentValue; });
                var currentValue = dataset.data[tooltipItem.index];
                var percentage = Math.floor(((currentValue/total) * 100)+0.5);         
                return currentValue + " (" + percentage + "%)";
              }
            }
	      },
          responsive: true,
          legend: {position: 'left'},
          scales: {xAxes: [{stacked: true,}],yAxes: [{stacked: true}]
          }
        }
      });
      var ctx5 = document.getElementById('canvas5').getContext('2d');
      window.myRS = new Chart(ctx5, {type: 'bar',data: STAnnoData,
        options: {
          title: {display: true,text: 'Casi Sequence Type-Anno (percentuale dei casi nell\u2019anno)'},
          tooltips: {
		    callbacks: {
              label: function(tooltipItem, data) {
        	    var dataset = data.datasets[tooltipItem.datasetIndex];
                var total = dataset.data.reduce(function(previousValue, currentValue, currentIndex, array) { return previousValue + currentValue; });
                var currentValue = dataset.data[tooltipItem.index];
                var percentage = Math.floor(((currentValue/total) * 100)+0.5);         
                return currentValue + " (" + percentage + "%)";
              }
            }
	      },
          responsive: true,
          legend: {position: 'left'},
          scales: {xAxes: [{stacked: true,}],yAxes: [{stacked: true}]
          }
        }
      });	  
    };
    function getRCH() {
    var hex = "0123456789ABCDEF",
      color = "#";
      for (var i = 1; i <= 6; i++) {
        color += hex[Math.floor(Math.random() * 16)];
      }
    return color;
    }
  </script>
</body>

</html>
